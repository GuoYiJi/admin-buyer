global.webpackJsonp([30],{"0kdT":function(e,t,a){"use strict";var s=a("Xxa5"),n=a.n(s),i=a("exGp"),o=a.n(i),r=a("qTHA"),c=a("cyB7"),l=(a("QmSG"),a("s4Nw"));t.a={components:{btn:c.a},data:function(){return{img:"",name:"",companyName:"",address:"",FMimg:"",remark:"",region:["广东省","广州市","海珠区"],Warehouse:[],templateId:"1"}},methods:{selectWarehouse:function(){var e=this;this.$API.selectWarehouse().then(function(t){r.a.setStorageSync("dpName",t.data.companyName),e.img=t.data.img,e.name=t.data.name,e.remark=t.data.remark,e.companyName=t.data.companyName,e.address=t.data.address,e.region=[t.data.sheng,t.data.shi,t.data.qu],e.FMimg=t.data.wall,e.templateId=t.data.templateId})},toRoute:function(e){this.$router.push("/pages/home/storeMgr/"+e)},pageTo:function(e){this.$router.push({path:e,query:{remark:this.remark}})},chooseImg:function(){var e=this;r.a.chooseImage({count:1,success:function(t){console.log(t),e.img=t.tempFilePaths[0],Object(l.a)(t.tempFilePaths[0],function(t){e.img=t})}})},bindRegionChange:function(e){console.log(e),this.region=e.mp.detail.value,console.log(this.region)},btn:function(){var e=this;return o()(n.a.mark(function t(){return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("++++++++++++++++++++++"),console.log(e.name.split("")),!(e.name.split("").length>10)){t.next=6;break}r.a.showToast({title:"店铺名称最多10个字符!",icon:"none"}),t.next=10;break;case 6:return t.next=8,e.$API.warehouse({name:e.name,companyName:e.companyName,address:e.address,head:e.img,wall:e.FMimg,remark:e.remark,sheng:e.region[0],shi:e.region[1],qu:e.region[2]});case 8:1==t.sent.code&&(r.a.showToast({title:"成功",icon:"success",duration:2e3}),e.$router.back(-1));case 10:case"end":return t.stop()}},t,e)}))()}},onShow:function(){var e=this;r.a.getStorage({key:"remark",success:function(t){console.log(t.data),e.remark=t.data}})},mounted:function(){this.selectWarehouse()}}},M5v7:function(e,t,a){"use strict";var s=a("0kdT"),n=a("k0ZF");var i=function(e){a("UqWZ")},o=a("ybqe")(s.a,n.a,i,"data-v-6fc93d3e",null);t.a=o.exports},UqWZ:function(e,t){},k0ZF:function(e,t,a){"use strict";var s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home"},[a("div",{staticClass:"user-img",attrs:{eventid:"0"},on:{click:e.chooseImg}},[a("p",{staticClass:"name"},[e._v("店铺头像")]),e._v(" "),a("img",{staticClass:"upload",attrs:{src:e.img}})],1),e._v(" "),a("div",{staticClass:"line-box"},[a("div",{staticClass:"line b_line"},[a("p",{staticClass:"input"},[e._v("店铺名称：")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"input_text",attrs:{placeholder:"请输入您的店铺名字",eventid:"1"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})],1),e._v(" "),a("div",{staticClass:"line b_line",attrs:{eventid:"2"},on:{click:function(t){e.toRoute("decorate/cover")}}},[a("p",{staticClass:"input"},[e._v("店铺封面")]),e._v(" "),""==e.FMimg?a("p",{staticClass:"blur"},[e._v("未设置")]):e._e(),e._v(" "),""!=e.FMimg?a("p",{staticClass:"blur"},[e._v("已设置")]):e._e()],1),e._v(" "),a("div",{staticClass:"line",attrs:{eventid:"3"},on:{click:function(t){e.pageTo("/pages/home/storeMgr/decorate/intro")}}},[a("p",{staticClass:"input"},[e._v("店铺简介")]),e._v(" "),""==e.remark?a("p",{staticClass:"blur"},[e._v("未设置")]):e._e(),e._v(" "),""!=e.remark?a("p",{staticClass:"blur"},[e._v("已设置")]):e._e()],1)]),e._v(" "),a("div",{staticClass:"line-box"},[a("div",{staticClass:"line b_line"},[a("p",{staticClass:"input"},[e._v("公司名称：")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.companyName,expression:"companyName"}],staticClass:"input_text",attrs:{placeholder:"请输入您的公司名字",eventid:"4"},domProps:{value:e.companyName},on:{input:function(t){t.target.composing||(e.companyName=t.target.value)}}})],1),e._v(" "),a("div",{staticClass:"line b_line"},[a("p",{staticClass:"input"},[e._v("所在地区")]),e._v(" "),a("p",{staticClass:"blur"},[a("picker",{attrs:{mode:"region",value:e.region,eventid:"5"},on:{change:e.bindRegionChange}},[a("view",{staticClass:"picker"},[e._v("\n            "+e._s(e.region.length>0?e.region[0]+"-"+e.region[1]+"-"+e.region[2]:"未设置")+"\n          ")])])],1)],1),e._v(" "),a("div",{staticClass:"line"},[a("p",{staticClass:"input"},[e._v("详细地址：")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.address,expression:"address"}],staticClass:"input_text",attrs:{placeholder:"请输入详细地址",eventid:"6"},domProps:{value:e.address},on:{input:function(t){t.target.composing||(e.address=t.target.value)}}})],1)]),e._v(" "),a("div",{staticClass:"footer"},[a("p",{attrs:{eventid:"7"},on:{click:function(t){e.btn()}}},[a("btn",{attrs:{title:"保存",mpcomid:"0"}})],1)],1)])},staticRenderFns:[]};t.a=s}},["yx6r"]);