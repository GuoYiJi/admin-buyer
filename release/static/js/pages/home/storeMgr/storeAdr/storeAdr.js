global.webpackJsonp([21],{FAL6:function(t,s,e){"use strict";var a=e("Mc62"),i=e("XJQw");var n=function(t){e("SNhw")},r=e("ybqe")(a.a,i.a,n,"data-v-34abfd7d",null);s.a=r.exports},Mc62:function(t,s,e){"use strict";var a=e("Xxa5"),i=e.n(a),n=e("exGp"),r=e.n(n),c=e("mvHQ"),o=e.n(c),d=e("cyB7"),l=e("90m7");s.a={mixins:[l.a],data:function(){return{idx:!1,visible2:!1,shopNum:0,shopList:[],showLoad:!1,canLoad:!0,selectAdr:"",delIndex:""}},components:{btn:d.a},methods:{selects:function(t,s){if(1!=t.isChoice){for(var e,a=0;e=this.shopList[a++];)if(1==e.isChoice){e.isChoice=0;break}t.isChoice=1,this.$API.editAdr({addressId:t.id,isChoice:1})}},toEdit:function(t){this.$router.push({path:"/pages/home/storeMgr/storeAdr/editAdr",query:{addressInfo:o()(t)}})},confirmDel:function(t,s){this.selectAdr=t,this.visible2=!0,this.delIndex=s},handleDel:function(t){var s=this;return r()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s.visible2=!1,console.log(s.selectAdr),t.next=4,s.$API.delAdr({addressId:s.selectAdr});case 4:s.shopList.splice(s.delIndex,1),s.$API.getAdr({pageNumber:1,pageSize:10}).then(function(t){s.shopList=t.data.list}),s.$success("删除成功！");case 7:case"end":return t.stop()}},t,s)}))()},getNextPage:function(){var t={pageSize:8};return this.shopNum++,t.pageNumber=this.shopNum,this.$API.getAdr(t)},lower:function(t){var s=this;return r()(i.a.mark(function t(){var e;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s.canLoad){t.next=2;break}return t.abrupt("return");case 2:if(!s.showLoad){t.next=4;break}return t.abrupt("return");case 4:return s.showLoad=!0,t.next=7,s.getNextPage();case 7:e=t.sent,setTimeout(function(){e.data.list.length<8&&(s.canLoad=!1),s.shopList=s.shopList.concat(e.data.list),s.showLoad=!1},2e3);case 9:case"end":return t.stop()}},t,s)}))()}},onShow:function(){var t=this;return r()(i.a.mark(function s(){var e;return i.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t.shopNum=0,s.next=3,t.getNextPage();case 3:e=s.sent,t.shopList=e.data.list,e.data.list.length<8&&(t.canLoad=!1);case 6:case"end":return s.stop()}},s,t)}))()}}},SNhw:function(t,s){},XJQw:function(t,s,e){"use strict";var a={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"wrapper manage-adr"},[e("scroll-view",{staticStyle:{height:"100vh"},attrs:{"scroll-y":"",eventid:"4"},on:{scrolltolower:t.lower}},[e("div",{staticClass:"content"},[t._l(t.shopList,function(s,a){return e("div",{key:a,staticClass:"adr-card"},[e("div",{staticClass:"user"},[e("p",{staticClass:"name"},[t._v(t._s(s.name))]),t._v(" "),e("p",{staticClass:"iphone"},[t._v(t._s(s.mobile))])],1),t._v(" "),e("div",{staticClass:"adr"},[e("p",{staticClass:"adr-text"},[t._v(t._s(s.value+s.address))])],1),t._v(" "),e("div",{staticClass:"adr-btn"},[e("div",{staticClass:"text",attrs:{eventid:"0-"+a},on:{click:function(e){e.stopPropagation(),t.selects(s,a)}}},[e("i",{staticClass:"select",class:[1==s.isChoice&&"active"]}),t._v("默认地址")],1),t._v(" "),e("div",{staticClass:"btn-box"},[e("div",{staticClass:"btn-item",attrs:{eventid:"1-"+a},on:{click:function(e){t.toEdit(s)}}},[e("i",{staticClass:"edit"}),t._v("编辑")],1),t._v(" "),e("div",{staticClass:"btn-item",attrs:{eventid:"2-"+a},on:{click:function(e){t.confirmDel(s.id,a)}}},[e("i",{staticClass:"del"}),t._v("删除")],1)])])])}),t._v(" "),e("div",{staticClass:"white-block"})],2),t._v(" "),e("i-modal",{attrs:{visible:t.visible2,eventid:"3",mpcomid:"0"},on:{ok:t.handleDel,cancel:function(s){t.toClose("visible2")}}},[e("div",[t._v("确认删除？")])])],1),t._v(" "),e("div",{staticClass:"footer"},[e("p",{staticClass:"add-adr",attrs:{eventid:"5"},on:{click:function(s){t.toRoute("home/storeMgr/storeAdr/addAdr")}}},[t._v("添加退货地址")])],1)],1)},staticRenderFns:[]};s.a=a}},["vFxc"]);