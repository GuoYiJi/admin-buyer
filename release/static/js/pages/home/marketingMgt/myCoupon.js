global.webpackJsonp([8],{"65H8":function(t,n,o){"use strict";var a=o("mvHQ"),s=o.n(a),e=o("qTHA"),i=o("h/gq");n.a={components:{myCoupon:i.a},data:function(){return{canLoad:!0,tag:1,pageNumber:1,couponInfo:[],navData:[{id:0,text:"未开始"},{id:1,text:"进行中"},{id:2,text:"已失效"}]}},methods:{lower:function(t){var n=this;this.pageNumber+=1,this.canLoad?this.getResponse(this.pageNumber).then(function(t){n.couponInfo=n.couponInfo.concat(t.data.list),n.couponInfo.length==t.data.totalRow&&(n.canLoad=!1)}):e.a.showToast({title:"没有更多的数据了",icon:"none"})},handleNav:function(t){var n=this;this.pageNumber=1,this.tag=t,this.canLoad=!0,this.getResponse(this.pageNumber).then(function(t){n.couponInfo=t.data.list,n.couponInfo.length==t.data.totalRow&&(n.canLoad=!1)})},getResponse:function(t){return this.$API.myCoupon({pageNumber:t,pageSize:10,state:this.tag})},toMyCoupon:function(t){console.log(t),this.$router.push({path:"/pages/home/marketingMgt/details",query:{item:s()(t),state:s()(this.tag)}})},btn:function(){this.$router.push("/pages/home/marketingMgt/couponSetting")}},onShow:function(){this.handleNav(this.tag)}}},"9edY":function(t,n){},DX7a:function(t,n,o){"use strict";var a={render:function(){var t=this,n=t.$createElement,o=t._self._c||n;return o("div",{staticClass:"home"},[o("div",{staticClass:"nav"},[o("div",{staticClass:"list"},[t._l(t.navData,function(n,a){return o("span",{key:a,staticClass:"item",class:[t.tag===n.id&&"active"],attrs:{eventid:"0-"+a},on:{click:function(o){t.handleNav(n.id)}}},[t._v(t._s(n.text))])}),t._v(" "),o("div",{staticClass:"line",style:{left:33*t.tag+"%"}})],2)]),t._v(" "),o("scroll-view",{staticStyle:{height:"100vh"},attrs:{"scroll-y":"",eventid:"3"},on:{scrolltolower:t.lower}},[o("div",{staticClass:"content"},[0==t.tag?o("div",t._l(t.couponInfo,function(n,a){return o("div",{key:a,attrs:{eventid:"1-"+a},on:{click:function(o){t.toMyCoupon(n)}}},[o("myCoupon",{attrs:{couponInfo:n,mpcomid:"0-"+a},nativeOn:{click:function(o){t.toMyCoupon(n)}}})],1)})):1==t.tag?o("div",t._l(t.couponInfo,function(n,a){return o("div",{key:a,attrs:{eventid:"2-"+a},on:{click:function(o){t.toMyCoupon(n)}}},[o("myCoupon",{attrs:{couponInfo:n,mpcomid:"1-"+a}}),t._v(" "),o("p",{staticClass:"info"},[t._v("已领取:"+t._s(n.mCount)+"  未使用:"+t._s(n.count-n.mCount))])],1)})):2==t.tag?o("div",t._l(t.couponInfo,function(n,a){return o("div",{key:a},[o("myCoupon",{attrs:{couponInfo:n,state:2,mpcomid:"2-"+a}}),t._v(" "),o("p",{staticClass:"info"},[t._v("已领取:"+t._s(n.mCount)+"  未使用:"+t._s(n.count-n.mCount))])],1)})):t._e()]),t._v(" "),o("div",{staticStyle:{height:"60px"}})]),t._v(" "),o("div",{staticClass:"foot",attrs:{eventid:"4"},on:{click:t.btn}},[o("span",{staticClass:"btn"},[t._v("创建")])])],1)},staticRenderFns:[]};n.a=a},HSwg:function(t,n){},I3nW:function(t,n,o){"use strict";o("qTHA");n.a={components:{},data:function(){return{}},props:{couponInfo:{type:Object,default:{}},state:{type:Number,default:0}},computed:{startTime:function(){return this.couponInfo.startTime.split(" ")[0].toString().replace(/-/g,".")},endTime:function(){return this.couponInfo.endTime.split(" ")[0].toString().replace(/-/g,".")}}}},P21Z:function(t,n,o){"use strict";var a=o("65H8"),s=o("DX7a");var e=function(t){o("HSwg")},i=o("ybqe")(a.a,s.a,e,"data-v-49a535d7",null);n.a=i.exports},"h/gq":function(t,n,o){"use strict";var a=o("I3nW"),s=o("uIdD");var e=function(t){o("9edY")},i=o("ybqe")(a.a,s.a,e,"data-v-a6e5de44",null);n.a=i.exports},uIdD:function(t,n,o){"use strict";var a={render:function(){var t=this,n=t.$createElement,o=t._self._c||n;return o("div",{staticClass:"nav"},[o("div",{staticClass:"coupon",class:[2===t.state?"overTime":"inTime"]},[o("div",{staticClass:"left"},[o("span",{staticClass:"left_1"},[t._v(t._s(t.couponInfo.name))]),t._v(" "),o("br"),t._v(" "),o("span",{staticClass:"left_2"},[o("p",[t._v("有效期")]),t._v(" "),o("p",[t._v(t._s(t.startTime)+"-"+t._s(t.endTime))])],1)],1),t._v(" "),o("div",{staticClass:"right"},[o("span",{staticClass:"right_1"},[t._v("￥"),o("strong",[t._v(t._s(t.couponInfo.price))])],1),t._v(" "),o("span",{staticClass:"right_2"},[o("p",[t._v("全程满")]),t._v(" "),o("p",[t._v(t._s(t.couponInfo.limitCount)+"元使用")])],1),t._v(" "),o("button",{staticClass:"btn",class:[2===t.state?"btnOff":"btnOn"]},[t._v("立即领取>")])],1)])])},staticRenderFns:[]};n.a=a}},["vTJV"]);