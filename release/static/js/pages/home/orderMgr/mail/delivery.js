global.webpackJsonp([51],{"+XeD":function(t,s,e){"use strict";var a=e("Xxa5"),i=e.n(a),l=e("exGp"),o=e.n(l),n=e("mvHQ"),r=e.n(n),c=e("qTHA"),d=e("QmSG");s.a={components:{},data:function(){return{value1:1,value2:1,value3:1,shuoo:0,isShow:!1,isShows:!1,index:0,select:0,tempFilePaths:"",array:["-请选择物流公司-","顺丰","申通"],navData:[{picture:"http://img0.ph.126.net/4VrAhfq_aXGh-H8xHoY7Xw==/6597977963263462287.png",title:"商品1商品1商品1商品1商品1商品1商品1商品1商品1商品1",name:"档口名称",type:"现货",number:5,maShuo:"均码",jianShuo:1,jianShuo1:4,jiage:154},{picture:"http://img0.ph.126.net/4VrAhfq_aXGh-H8xHoY7Xw==/6597977963263462287.png",title:"商品1商品1商品1商品1商品1商品1商品1商品1商品1商品1",name:"档口名称",type:"现货",number:5,maShuo:"均码",jianShuo:1,jianShuo1:4,jiage:154}],L_selectDetail:[],warehouseData:[],pingUserData:[],orderGoodsList:[],goodsDetailData:[],L_selectOrderzz:[],skuCode:[],goodsOrder:[],skuCodeAllList:[],numAllList:[],idzz:[],orderIdzz:[],orderDeliver:[],url:"",appId:"",sexList:[],addurl:"",inputValueArr:[],valueArr:[],orderIds:"",skuId:"",orderGoodsId:"",orderGoodsSku:[],deliverListSku:[],parent:[],dpName:""}},methods:{upload:function(){var t=this;c.a.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(s){var e=s.tempFilePaths;console.log(e,123123),t.tempFilePaths=e[0]}})},bindPickerChange:function(t){console.log(t.mp.detail.value),this.index=t.mp.detail.value},message:function(){console.log(this),0==this.select?this.select=1:1==this.select&&(this.select=0)},orderListArr:function(t){console.log(t),this.$router.push({path:"/pages/home/orderMgr/orderList",query:{goodsId:t}})},handleChange1:function(t){var s=t.mp.detail;this.value1=s.value},add:function(t,s){console.log(s),this.$set(this.inputValueArr,t,this.inputValueArr[t]+1),this.value1=this.inputValueArr[t],console.log(this.value1),this.inputValueArr[t]>0&&(console.log(1.111111111111111e26),this.orderIdzz=s.skuId,this.orderGoodsId=s.orderGoodsId,console.log(this.idzz))},subtract:function(t){if(0==this.inputValueArr[t])return this.idzz[t]=null,void(this.orderIdzz[t]=null);this.$set(this.inputValueArr,t,this.inputValueArr[t]-1),console.log(this.inputValueArr)},save:function(){console.log(this.idzz);var t={sessionId:this.azzSessionId,shopId:this.appId,orderIds:this.orderIds,orderDeliver:[{num:this.value1,skuId:this.orderIdzz}]},s=this;c.a.showModal({content:"是否确认保存！",success:function(e){s.isShow=!1,console.log(e),e.confirm?(console.log("用户点击确定"),c.a.request({url:s.addurl,data:r()(t),header:{"content-type":"application/json"},method:"post",success:function(t){console.log(t.data),1==t.data.code&&c.a.showToast({title:"保存成功",icon:"success",duration:2e3})}}),setTimeout(function(){},500)):e.cancel&&console.log("用户点击取消")}})},Deliver:function(){console.log(123123),this.isShows=!this.isShows},cancel:function(){this.edit()},sanJiaoBut:function(t){this.$router.push({path:"/pages/home/orderMgr/orderdetails",query:{orderId:t}})},edit:function(t,s){var e=this;return o()(i.a.mark(function a(){var l,o,n;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:e.isShow=!e.isShow,e.orderIds=s,console.log(t),l=[],o={},n=t.skuCode.split(","),o.color=n[0],o.size=n[1],o.waitNum=t.remainNum,o.num=t.num,o.skuId=t.skuId,o.id=t.id,l.push(o),e.orderDeliver=l,console.log(e.orderDeliver),e.orderDeliver.forEach(function(t,s){e.inputValueArr[s]=0});case 16:case"end":return a.stop()}},a,e)}))()},btn:function(){var t={sessionId:this.azzSessionId,shopId:this.appId,orderId:this.idzz,logistics:{image:this.tempFilePaths,logisticsNo:this.logisticsNo,type:this.select}};console.log(r()(t)),c.a.request({url:this.url,data:r()(t),header:{"content-type":"application/json"},method:"post",success:function(t){console.log(t.data),1==t.data.code&&c.a.showToast({title:"发货成功",icon:"success",duration:2e3})}})},details:function(t){this.$router.push({path:"/pages/home/orderMgr/mail/delivery",query:{orderId:t}}),console.log(111)},childrenBut:function(t){this.$router.push({path:"mail/delivery",query:{orderId:t}})},btnzz:function(){this.isShows=!this.isShows}},mounted:function(){var t=this;return o()(i.a.mark(function s(){var e,a;return i.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,t.$API.L_selectOrderDetail({orderId:t.$route.query.orderId});case 2:for(e=s.sent,t.L_selectDetail=e.data,t.idzz=t.L_selectDetail.id,t.warehouseData=t.L_selectDetail.orderAddress,t.orderGoodsList=t.L_selectDetail.goodsList,t.parent=t.L_selectDetail.parent,console.log(t.parent),a=0;a<t.orderGoodsList.length;a++)t.orderGoodsSku=t.orderGoodsList[a].orderGoods,t.deliverListSku=t.orderGoodsList[a].deliverList;t.azzSessionId=c.a.getStorageSync("sessionId"),t.url=d.a.url+"/api/order/addChildren",t.addurl=d.a.url+"/api/order/goods/addChildren",t.appId=d.a.appId,t.dpName=c.a.getStorageSync("dpName");case 15:case"end":return s.stop()}},s,t)}))()}}},ANt7:function(t,s,e){"use strict";var a={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"nav"},[t.warehouseData?e("div",{staticClass:"head"},[e("i",{staticClass:"dingwei"}),t._v(" "),e("div",{staticClass:"right"},[e("div",{staticClass:"consignee"},[e("text",[t._v("收货人:")]),t._v(" "),e("text",[t._v(t._s(t.warehouseData.name))]),t._v(" "),e("text",{staticClass:"phone"},[t._v(t._s(t.warehouseData.mobile))])]),t._v(" "),e("div",{staticClass:"address"},[t._v("\n        收货地址:"+t._s(t.warehouseData.value)+t._s(t.warehouseData.address)+"\n      ")]),t._v(" "),t.L_selectDetail?e("div",{staticClass:"remark"},[t._v("\n        备注:"+t._s(t.L_selectDetail.remark)+"\n      ")]):t._e()])],1):t._e(),t._v(" "),e("div",{staticClass:"maiJia"},[e("i",{staticClass:"maiJiaico"}),t._v(" "),e("text",{staticClass:"name"},[t._v(t._s(t.dpName))]),t._v(" "),t.L_selectDetail?e("text",{staticClass:"fuKuan"},[t._v("\n      "+t._s(1==t.L_selectDetail.state?"未支付":2==t.L_selectDetail.state?"取消":3==t.L_selectDetail.state?"已支付":4==t.L_selectDetail.state?"支付失败":5==t.L_selectDetail.state?"未发货":6==t.L_selectDetail.state?"已发货":7==t.L_selectDetail.state?"交易成功":8==t.L_selectDetail.state?"交易关闭":"拼单中")+"\n    ")]):t._e()],1),t._v(" "),t._l(t.orderGoodsSku,function(s,a){return e("div",{key:a,staticClass:"list"},[e("div",{staticClass:"kuang"},[e("img",{staticClass:"sPimg",attrs:{src:s.image}}),t._v(" "),e("div",{staticClass:"textThad"},[e("div",{staticClass:"title"},[t._v(t._s(s.name))]),t._v(" "),e("div",{staticClass:"huo"},[e("text",{staticClass:"name"},[t._v(t._s(s.stallInfo3))]),t._v(" "),e("div",{staticClass:"type"},[t._v("货期:"+t._s(s.delivery))]),t._v(" "),e("span",{staticClass:"number"},[t._v("X"+t._s(s.num))])]),t._v(" "),e("div",{staticClass:"maShuo"},[e("scroll-view",{staticStyle:{width:"180px"},attrs:{"scroll-x":"true"}},[e("span",{staticClass:"text"},[t._v(t._s(s.skuCode)+"/"+t._s(s.num)+"件")])]),t._v(" "),6!=t.L_selectDetail.state?e("span",{staticClass:"edit",attrs:{eventid:"0-"+a},on:{click:function(e){t.edit(s,s.goodsId)}}},[t._v("编辑")]):t._e()],1)])]),t._v(" "),6!=t.L_selectDetail.state?e("div",{staticClass:"type_1"},[t._m(0,!0),t._v(" "),t._l(t.orderDeliver,function(s,a){return e("div",{key:a,staticClass:"title_2"},[e("span",{staticClass:"colour"},[t._v(t._s(s.color))]),t._v(" "),e("span",{staticClass:"size"},[t._v(t._s(s.size))]),t._v(" "),e("span",{staticClass:"standby"},[t._v(t._s(s.num))]),t._v(" "),e("span",{staticClass:"shipments"},[t._v(t._s(t.vule))]),t._v(" "),e("span",{staticClass:"remaining"},[t._v(t._s(s.waitNum))])])})],2):t._e(),t._v(" "),e("div",{staticClass:"jiaGe"},[e("text",{staticClass:"text"},[t._v("共"+t._s(s.num)+"件商品,合计: ")]),t._v(" "),e("text",{staticClass:"jiaGet"},[t._v(t._s(s.paidPrice)+"元")])])])}),t._v(" "),""!=t.L_selectDetail.children?e("div",{staticClass:"number_1"},t._l(t.L_selectDetail.children,function(s,a){return e("div",{key:a,staticClass:"completed",attrs:{eventid:"1-"+a},on:{click:function(e){t.childrenBut(s.id)}}},[e("div",{staticClass:"completed_1"},[t._v("子订单编号\n        "+t._s(1==s.state?"未支付":2==s.state?"取消":3==s.state?"已支付":4==s.state?"支付失败":5==s.state?"未发货":6==s.state?"已发货":7==s.state?"交易成功":8==s.state?"交易关闭":"拼单中")+"\n      ："+t._s(s.orderNo))]),t._v(" "),e("i",{staticClass:"sanjiao"})],1)})):t._e(),t._v(" "),t.L_selectDetail?e("div",{staticClass:"jieShuan"},[e("div",{staticClass:"price"},[e("text",[t._v("商品总价：")]),t._v(" "),e("text",{staticClass:"price1"},[t._v("￥"+t._s(t.L_selectDetail.count))])]),t._v(" "),e("div",{staticClass:"coupon"},[e("text",[t._v("优惠券抵扣：")]),t._v(" "),e("text",{staticClass:"coupon1"},[t._v(t._s(t.L_selectDetail.couponMoney))])]),t._v(" "),e("div",{staticClass:"coupon"},[e("text",[t._v("运费：")]),t._v(" "),e("text",{staticClass:"coupon1"},[t._v("-￥"+t._s(t.L_selectDetail.expressWay))])]),t._v(" "),e("i",{staticClass:"xuXian"}),t._v(" "),t.parent?e("div",{staticClass:"orderNumber"},[e("span",[t._v("父订单编号："+t._s(t.parent.orderNo))])]):t._e(),t._v(" "),e("div",{staticClass:"orderNumber"},[t._v("订单编号："+t._s(t.L_selectDetail.orderNo))]),t._v(" "),e("div",{staticClass:"orderNumber"},[t._v("下单时间："+t._s(t.L_selectDetail.createTime))]),t._v(" "),6==t.L_selectDetail.state||7==t.L_selectDetail.state?e("div",{staticClass:"orderNumber"},[t._v("支付时间："+t._s(t.L_selectDetail.payTime))]):t._e(),t._v(" "),6==t.L_selectDetail.state||7==t.L_selectDetail.state?e("div",{staticClass:"orderNumber"},[t._v("发货时间："+t._s(t.L_selectDetail.deliverTime))]):t._e(),t._v(" "),7==t.L_selectDetail.state?e("div",{staticClass:"orderNumber"},[t._v("收货时间："+t._s(t.L_selectDetail.receiptTime))]):t._e()],1):t._e(),t._v(" "),e("div",{staticStyle:{height:"50px",width:"100%"}}),t._v(" "),e("div",{staticClass:"foot"},[6!=t.L_selectDetail.state?e("span",{staticClass:"btn",attrs:{eventid:"2"},on:{click:function(s){t.Deliver()}}},[t._v("发货")]):t._e()]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}]},[e("div",{staticClass:"demo-container"},[e("div",{staticClass:"title_s"},[e("ul",{staticClass:"s_item_box"},[e("li",{staticClass:"s_item"},[t._v("码数")]),t._v(" "),e("li",{staticClass:"s_item"},[t._v("码数")]),t._v(" "),e("li",{staticClass:"s_item"},[t._v("待发数")]),t._v(" "),e("li",{staticClass:"s_item i-input"},[t._v("发货件数")]),t._v(" "),e("li",{staticClass:"s_item"},[t._v("剩余件数")])],1)],1),t._v(" "),e("div",{staticClass:"title_t"},[e("scroll-view",{staticStyle:{height:"83%"},attrs:{"scroll-y":"","lower-threshold":"80"}},t._l(t.orderDeliver,function(s,a){return e("ul",{key:a,staticClass:"s_item_box"},[e("li",{staticClass:"s_item"},[t._v(t._s(s.color))]),t._v(" "),e("li",{staticClass:"s_item"},[t._v(t._s(s.size))]),t._v(" "),e("li",{staticClass:"s_item"},[t._v(t._s(s.num))]),t._v(" "),e("li",{staticClass:"s_item i-input"},[e("div",{staticClass:"numAll"},[e("div",{staticClass:"numCut"},[e("button",{attrs:{eventid:"3-"+a},on:{click:function(s){t.subtract(a)}}},[t._v("-")])],1),t._v(" "),e("div",{staticClass:"numInput"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.inputValueArr[a],expression:"inputValueArr[idss]"}],attrs:{type:"text",value:"0",eventid:"4-"+a},domProps:{value:t.inputValueArr[a]},on:{input:function(s){s.target.composing||t.$set(t.inputValueArr,a,s.target.value)}}})]),t._v(" "),e("div",{staticClass:" "},[e("button",{attrs:{disabled:t.inputValueArr[a]>=s.waitNum,eventid:"5-"+a},on:{click:function(e){t.add(a,s)}}},[t._v("+")])],1)])]),t._v(" "),e("li",{staticClass:"s_item"},[t._v(t._s(s.waitNum))])],1)}))],1),t._v(" "),e("div",{staticClass:"foot"},[e("span",{staticClass:"save",attrs:{eventid:"6"},on:{click:function(s){t.save()}}},[t._v("保存")]),t._v(" "),e("span",{staticClass:"cancel",attrs:{eventid:"7"},on:{click:function(s){t.cancel()}}},[t._v("取消")])])])]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isShows,expression:"isShows"}]},[e("div",{staticClass:"box"},[e("div",{staticClass:"kuang_1"},[e("div",{staticClass:"title"},[t._v("请填写物流信息")]),t._v(" "),e("div",{staticClass:"logistics"},[e("picker",{attrs:{value:t.index,range:t.array,eventid:"8"},on:{change:t.bindPickerChange}},[e("view",{staticClass:"picker"},[t._v("\n              物流公司:\n              "),e("span",{staticClass:"picker_o"},[t._v(t._s(t.array[t.index])+"\n                "),e("i",{staticClass:"drop"})],1)])])],1),t._v(" "),e("div",{staticClass:"courier"},[e("span",{staticClass:"span"},[t._v("快递单号:")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.logisticsNo,expression:"logisticsNo"}],staticClass:"input",attrs:{type:"number",placeholder:"请填写快递单号",eventid:"9"},domProps:{value:t.logisticsNo},on:{input:function(s){s.target.composing||(t.logisticsNo=s.target.value)}}})]),t._v(" "),e("div",{staticClass:"title_s"},[t._v("上传快递信息凭证：(仅一张)")]),t._v(" "),e("div",{staticClass:"upload",attrs:{eventid:"10"},on:{click:function(s){t.upload()}}},[""==t.tempFilePaths?e("span",{staticClass:"text"},[t._v("+可上传图片")]):t._e(),t._v(" "),""!=t.tempFilePaths?e("img",{attrs:{src:t.tempFilePaths}}):t._e()]),t._v(" "),e("div",{staticClass:"message",attrs:{eventid:"11"},on:{click:function(s){t.message()}}},[0==t.select?e("i",{staticClass:"message_img",attrs:{"v-model":t.select}}):t._e(),t._v(" "),1==t.select?e("i",{staticClass:"message_img img"}):t._e(),t._v(" "),e("span",[t._v("无快递信息")])],1),t._v(" "),e("div",{staticClass:"btn"},[e("span",{staticClass:"btn_1",attrs:{eventid:"12"},on:{click:function(s){t.btnzz()}}},[t._v("取消")]),t._v(" "),e("span",{staticClass:"btn_2",attrs:{eventid:"13"},on:{click:function(s){t.btn()}}},[t._v("确认发货")])])])])])],2)},staticRenderFns:[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"title_1"},[e("span",{staticClass:"colour"},[t._v("颜色")]),t._v(" "),e("span",{staticClass:"size"},[t._v("码数")]),t._v(" "),e("span",{staticClass:"standby"},[t._v("待发数")]),t._v(" "),e("span",{staticClass:"shipments"},[t._v("发货件数")]),t._v(" "),e("span",{staticClass:"remaining"},[t._v("剩余件数")])])}]};s.a=a},R64H:function(t,s,e){"use strict";var a=e("+XeD"),i=e("ANt7");var l=function(t){e("tAHJ")},o=e("ybqe")(a.a,i.a,l,"data-v-3cfbbe0d",null);s.a=o.exports},tAHJ:function(t,s){}},["DDsP"]);