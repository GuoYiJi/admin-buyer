global.webpackJsonp([6],{"36d/":function(t,s,e){"use strict";var a=e("hhZN"),i=e("50Hk");var c=function(t){e("cKM3")},o=e("ybqe")(a.a,i.a,c,"data-v-2770e92d",null);s.a=o.exports},"3jYd":function(t,s){},"50Hk":function(t,s,e){"use strict";var a={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return t.show?e("div",{staticClass:"order-shop-card"},[e("div",{staticClass:"item-card"},[t.edit?e("div",{staticClass:"select-box",attrs:{eventid:"0"},on:{click:t.select}},[e("i",{staticClass:"select",class:t.check&&"active"})],1):t._e(),t._v(" "),e("div",{staticClass:"img"},[e("img",{attrs:{src:t.getImg1}})]),t._v(" "),e("div",{staticClass:"desc"},[e("p",{staticClass:"title"},[t._v(t._s(t.shop.name))]),t._v(" "),e("p",{staticClass:"sellnum"},[t._v("货期:"+t._s(t.shop.delivery)+"丨销量:"+t._s(t.shop.sellCount))]),t._v(" "),e("p",{staticClass:"price"},[e("span",[t._v("售价:￥"+t._s(t.shop.sellPrice))]),t._v(" "),e("span",{staticClass:"sell"},[t._v("   利润:￥"+t._s(t.shop.profit))])])],1)])]):t._e()},staticRenderFns:[]};s.a=a},"86at":function(t,s,e){"use strict";var a={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"home"},[e("div",{staticClass:"sort-select"},[e("div",{staticClass:"top-nav"},[e("ul",[e("li",{class:[1===t.tag&&"nav-active"],attrs:{eventid:"0"},on:{click:function(s){t.handleTag(1)}}},[t._v("综合")]),t._v(" "),e("li",{class:[2===t.tag&&"nav-active"],attrs:{eventid:"1"},on:{click:function(s){t.handleTag(2)}}},[t._v("销量\n          "),e("div",{staticClass:"sort-box"},[e("i",{staticClass:"sort-top",class:t.asceSale&&"sort-active"}),t._v(" "),e("i",{staticClass:"sort-bottom",class:!t.asceSale&&"sort-active"})],1)]),t._v(" "),e("li",{class:[4===t.tag&&"nav-active"],attrs:{eventid:"2"},on:{click:function(s){t.handleTag(4)}}},[t._v("价格\n          "),e("div",{staticClass:"sort-box"},[e("i",{staticClass:"sort-top",class:t.ascePrice&&"sort-active"}),t._v(" "),e("i",{staticClass:"sort-bottom",class:!t.ascePrice&&"sort-active"})],1)]),t._v(" "),e("li",{class:[5===t.tag&&"nav-active"],attrs:{eventid:"3"},on:{click:function(s){t.handleTag(5)}}},[t._v("筛选\n          "),e("div",{staticClass:"sort-box"},[e("i",{staticClass:"option-icon"})],1)])],1)],1),t._v(" "),e("scroll-view",{staticStyle:{height:"82%"},attrs:{"scroll-y":"","lower-threshold":"80",eventid:"7"},on:{scrolltolower:t.lower}},[e("div",{staticClass:"scroll-box"},[e("div",{staticClass:"box"},t._l(t.shopList,function(s,a){return e("p",{key:a},[e("scard",{key:a,ref:"scard",refInFor:!0,attrs:{edit:"true",shop:s,eventid:"4-"+a,mpcomid:"0-"+a},on:{switchSel:t.switchSel,setGroupPrice:t.setGroupPrice}})],1)})),t._v(" "),t.canLoad?e("div",{staticClass:"loading"},[t.showLoad?e("div",[e("loading",{attrs:{mpcomid:"1"}})]):t._e()]):t._e()]),t._v(" "),e("i-drawer",{attrs:{mode:"right",visible:t.showRight1,eventid:"6",mpcomid:"3"},on:{close:t.toggleRight1}},[e("selsearch",{attrs:{eventid:"5",mpcomid:"2"},on:{comSearch:t.comSearch}})],1)],1)],1),t._v(" "),e("div",{staticClass:"footer"},[e("p",{staticClass:"save",attrs:{eventid:"8"},on:{click:t.confirm}},[t._v("确定"+t._s(t.groupNum))])],1)])},staticRenderFns:[]};s.a=a},P8tw:function(t,s,e){"use strict";var a=e("woOf"),i=e.n(a),c=e("Xxa5"),o=e.n(c),n=e("exGp"),r=e.n(n),l=e("qTHA"),h=e("36d/"),d=e("P9O9"),u=e("90m7"),p=e("yHWc"),v=e("0xDb");e.n(v);s.a={mixins:[u.a],components:{scard:h.a,loading:d.a,selsearch:p.a},computed:{groupNum:function(){return this.selIds.length>0?"("+this.selIds.length+")":""}},data:function(){return{showUp:!1,asceSale:!0,ascePrice:!0,tag:1,showRight1:!1,edit:!1,allCheck:!1,shopNum:0,shopList:[],showLoad:!1,canLoad:!0,pageSize:20,type:0,selIds:[],state:1,groupPriceData:[]}},methods:{confirm:function(){if(0==this.selIds.length)return this.handleError("请选择至少一件商品！");for(var t,s=[],e=0;t=this.shopList[e++];)this.selIds.indexOf(t.id)>=0&&s.push(t);this.$store.commit("ADDMATCH",s),l.a.setStorage({key:"selIds",data:this.selIds}),console.log(this.selIds),this.$router.back(-1)},handleTag:function(t){var s=this;return r()(o.a.mark(function e(){var a,i;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s.tag=t,a=0,s.shopNum=0,s.canLoad=!0,s.showLoad=!1,2===t&&(s.asceSale=!s.asceSale,a=s.asceSale?2:3),4===t&&(s.ascePrice=!s.ascePrice,a=s.ascePrice?4:5),5!==t){e.next=10;break}return s.toggleRight1(),e.abrupt("return");case 10:return s.type=a,e.next=13,s.getNextPage({ob:a,state:s.state});case 13:i=e.sent,s.shopList=i.data.list,i.data.list.length<s.pageSize&&(s.canLoad=!1);case 16:case"end":return e.stop()}},e,s)}))()},toggleRight1:function(){this.showRight1=!this.showRight1},searchShop:function(t){return t.pageSize=this.pageSize,this.$API.searchShopGroup(t)},getNextPage:function(t){return this.shopNum++,5==this.tag&&(t=i()(t,this.selParam)),t.pageNumber=this.shopNum,this.searchShop(t)},lower:function(t){var s=this;return r()(o.a.mark(function t(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s.canLoad){t.next=2;break}return t.abrupt("return");case 2:if(!s.showLoad){t.next=4;break}return t.abrupt("return");case 4:return s.showLoad=!0,t.next=7,s.getNextPage({ob:s.type,state:s.state});case 7:e=t.sent,setTimeout(function(){e.data.list.length<s.pageSize&&(s.canLoad=!1),s.shopList=s.shopList.concat(e.data.list),s.showLoad=!1},2e3);case 9:case"end":return t.stop()}},t,s)}))()},comSearch:function(t){var s=this;return r()(o.a.mark(function e(){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.toggleRight1(),s.selParam=t,e.next=4,s.getNextPage({ob:0,state:s.state});case 4:a=e.sent,s.shopList=a.data.list,a.data.list.length<s.pageSize&&(s.canLoad=!1);case 7:case"end":return e.stop()}},e,s)}))()},switchSel:function(t,s){if(s)this.selIds.push(t);else{var e=this.selIds.indexOf(t);this.selIds.splice(e,1)}console.log(this.selIds)},setGroupPrice:function(t){for(var s,e=0;s=this.groupPriceData[e++];)if(s.id==t.id)return s.price=t.price;this.groupPriceData.push(t)}},mounted:function(){var t=this;return r()(o.a.mark(function s(){var e;return o.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t.shopNum=0,s.next=3,t.getNextPage({ob:0,state:t.state});case 3:e=s.sent,t.shopList=e.data.list,e.data.list.length<t.pageSize&&(t.canLoad=!1),console.log(t.shopList);case 7:case"end":return s.stop()}},s,t)}))()}}},cKM3:function(t,s){},hhZN:function(t,s,e){"use strict";var a=e("Xxa5"),i=e.n(a),c=e("exGp"),o=e.n(c),n=e("U8g+"),r=e.n(n),l=e("90m7"),h=this;s.a={mixins:[l.a],props:{edit:{type:Boolean,default:!1},shop:{type:Object},act:{type:String,default:"下架"}},$watch:{edit:function(t,s){h.check=!1,console.log(h.check)}},data:function(){return{check:!1,visible4:!1,visible2:!1,show:!0,actions4:[{name:"编辑"},{name:"下架"},{name:"分组"}]}},computed:{getImg1:function(){return this.shop.images?this.shop.image:r.a}},methods:{select:function(){this.check=!this.check,this.$emit("switchSel",this.shop.id,this.check)},handleClick4:function(t){var s=t.mp.detail.index;this.visible4=!1,0===s?this.toRoute("home/addShop/editShop",this.shop):1===s?this.visible2=!0:2===s&&this.toRoute("home/shopMgr/classify",{groupIds:this.shop.groupIds,goodsIds:this.shop.id})},comfirmDel:function(t){var s=this;return o()(i.a.mark(function e(){var a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s[t]=!1,a=0,"下架"!=s.act&&(a=1),e.next=5,s.$API.switchShop({goodsIds:s.shop.id,state:a});case 5:s.show=!1,s.$success(s.act+"成功！");case 7:case"end":return e.stop()}},e,s)}))()}},mounted:function(){this.actions4[1].name=this.act,console.log(this.shopList)}}},twYa:function(t,s,e){"use strict";var a=e("P8tw"),i=e("86at");var c=function(t){e("3jYd")},o=e("ybqe")(a.a,i.a,c,"data-v-22beeca1",null);s.a=o.exports}},["jfFm"]);